Задача:
Загрузка базы из таблицы в AmoCRM
На основании данных в таблице (Google Sheets) должны автоматически создаваться сделки в указанной воронке и на заданном этапе.
Создание сделок в AmoCRM при добавлении новых строк
Если в таблице добавляется новый клиент, автоматически создаётся сделка в AmoCRM с заполнением нужных полей.
Обновление сделки из таблицы
Если в таблице изменяются данные по клиенту (например, email, телефон, сумма), они обновляются в карточке сделки AmoCRM.
Обновление таблицы из AmoCRM
Если в AmoCRM изменяется указанное поле (например, статус сделки или сумма), данные должны автоматически обновляться в таблице.


Решение задачи: синхронизация Google Sheets ↔ AmoCRM

**Создание и обновление сделок из Google Sheets**
В Google Sheets написан App Script, который вызывает webhook (onEdit) при добавлении или изменении строки.
Поднятый на aiohttp веб-сервер принимает webhook и:
- Если клиент новый → создаёт сделку в AmoCRM через API.
- Если данные клиента изменились → обновляет соответствующую сделку в AmoCRM.

**Обновление таблицы из AmoCRM**
В AmoCRM настроен webhook на изменения сделок.
Этот webhook попадает на сервер и через pygsheets обновляет данные в Google Sheets.

**Библиотеки**
aiohttp — веб-сервер для обработки webhook’ов.
Redis — кеш (singleton) для всех sub-apps, предотвращение повторных вызовов.
pygsheets — интеграция с Google Sheets API для чтения и записи данных.
Google Apps Script — триггер onEdit, который отправляет данные на твой webhook при изменениях в таблице.
